<header class="fixed top-0 left-0 z-50 w-full px-3 py-2 bg-white drop-shadow md:flex md-items-center md:justify-between">
  <div class="flex items-center justify-between w-full px-4">
    <div class="w-40 md:w-1/4 lg:w-1/8 xl:w-1/12">
      <a href="#" class="block">
        <%= image_tag "logo_column.png", class: "w-full align-middle" %>
      </a>
    </div>

    <div data-controller="hamburger" class="flex items-center md:hidden">
      <label class="flex px-4 py-4" data-action="click->hamburger#switch">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="items-center inline-block w-8 h-8 border stroke-current">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </label>

      <ul tabindex="0" class="hidden menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 w-28 place-content-center absolute top-20 right-0" data-hamburger-target="nav">
        <li><a href="#" class="block p-4 py-3">餐廳介紹</a></li>
        <li><a href="#booking" class="block p-4 py-3">立即訂位</a></li>
        <li><a href="#" class="block p-4 py-3">美食菜單</a></li>
      </ul>
    </div>
    <div class="hidden md:flex">
      <ul class="items-center hidden md:flex">
        <li><a href="#" class="block p-4 py-3">餐廳介紹</a></li>
        <li><a href="#booking" class="block p-4 py-3">立即訂位</a></li>
        <li><a href="#" class="block p-4 py-3">美食菜單</a></li>
      </ul>
    </div>
  </div>
</header>
<!--main-->
<div class="max-w-[85rem] px-4 py-4 md:px-6 xl:px-8 mt-1 mx-auto">
  <div class="flex aspect-w-16 aspect-h-7">
    <%= image_tag (@restaurant.image_url) if @restaurant.image? %>
  </div>

</div>
<!--餐廳資訊-->
<div class="mx-12 my-8 lg:my-8 lg:mx-28">
  <h1 class="m-6 text-2xl font-bold text-green"><%= @restaurant.name %></h1>
  <p class="m-6"><i class="fa-solid fa-thumbs-up"> 4.0 <a href="" class="underline hover:text-blue-400">58 則評論</a></i></p>
  <p class="m-6"><%= @restaurant.address %></p>
  <p class="m-6"><i class="fa-solid fa-phone"></i> <%= @restaurant.tel %></p>
  <hr>
  <p class="m-6 text-lg text-gray-900 dark:text-white"><%= @restaurant.description %></p>
  <hr>
</div>
<!--可選日期時間-->

<!--訂位-->
<div id="booking" class="m-auto mx-12 my-8 lg:my-8 lg:mx-28" name="booking">
  <%= form_with url:wizard_path, method: :patch, data: { turbo: false } do |f| %>
    <div class="my-6">
      <div class="flex flex-col justify-between gap-4 sm:flex-row">
        <div class="w-full sm:w-1/4 sm:mb-0">
          <%= f.label :adult_num, '大人數',class:"block mr-2 text-sm text-gray-00" %>
          <%= f.number_field :adult_num, value: session.dig(:first_step_data, 'adult_num'), class:"h-9 w-full px-5 py-1 text-gray-700 bg-gray-200 rounded", min: 1 %>
        </div>
        <div class="w-full sm:w-1/4 sm:mb-0">
          <%= f.label :kid_num, '小孩數',class:"block mr-2 text-sm text-gray-00" %>
          <%= f.number_field :kid_num,
                  value: session.dig(:first_step_data, 'kid_num').present? ? session.dig(:first_step_data, 'kid_num') : 0,
                  class: "h-9 w-full px-5 py-1 text-gray-700 bg-gray-200 rounded",
                  min: 0 %>
        </div>
        <div class="w-full sm:w-1/2 sm:mb-0">
          <%= f.label :date, '用餐日期',class:"block mr-2 text-sm text-gray-00" %>
          <%= f.date_field :date, value: session.dig(:first_step_data, 'date'), min: Date.today.strftime('%Y-%m-%d'), class:"h-9 w-full px-5 py-1 text-gray-700 bg-gray-200 rounded" %>
        </div>
      </div>
    </div>
  <hr>
</div>

<section data-controller="ordertime" class="mx-4 my-8 lg:my-8 lg:mx-28">
  <div  class= "flex flex-wrap justify-center">
    <% time_range = RestaurantsHelper::TimeRange.new(@open_time, @restaurant.reserve_interval) %>
    <p class='w-full text-2xl font-bold text-center text-green'>選擇用餐時間</p>
      <% time_range.makelist.each do |time_point| %>
      <button type="button" class="m-8 focus:outline-none text-black bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-xl w-32 px-5 py-2.5 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800" data-ordertime-target='timebtn' data-action="click->ordertime#clickTime"
              value='<%= time_point %>'>
        <%= time_point %>
      </button>
      <% end %>
    </div>
  </div>
  <%= f.hidden_field :time, data: {ordertime_target: "timeInput"}%>
  <%= f.submit '下一步', class: 'w-full px-4 py-2 text-white text-lg font-bold tracking-wider bg-gray-500 rounded mt-10 hover:bg-green' %>
</section>
<% end %>